<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SKU Profit Calculator ‚Äî –†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- Hero -->
  <section class="min-h-screen flex flex-col items-center justify-center text-center px-4 bg-white">
    <h1 class="text-4xl md:text-5xl font-bold mb-4">–í—ã —Ç–µ—Ä—è–µ—Ç–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ —É–±—ã—Ç–æ—á–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö?</h1>
    <p class="text-lg md:text-xl mb-6 max-w-2xl">
      <b>SKU Profit Calculator</b> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–∏–±—ã–ª—å –ø–æ –∫–∞–∂–¥–æ–º—É SKU —Å —É—á—ë—Ç–æ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏, –∫–æ–º–∏—Å—Å–∏–π –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ ‚Äî –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –º–∏–Ω—É—Å.
    </p>

    <!-- Form -->
    <form id="subscribeForm" class="flex flex-col md:flex-row gap-2 w-full max-w-xl">
      <input type="email" id="email" placeholder="–í–∞—à email" class="border p-3 rounded w-full flex-1" required />
      <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 transition">
        –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø
      </button>
    </form>

    <!-- Success/Fail alerts -->
    <div id="alertSuccess" class="hidden mt-4 text-green-700 bg-green-100 border border-green-200 rounded p-3 w-full max-w-xl">
      –°–ø–∞—Å–∏–±–æ! –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –ø–æ email.
    </div>
    <div id="alertError" class="hidden mt-4 text-red-700 bg-red-100 border border-red-200 rounded p-3 w-full max-w-xl">
      –£–ø—Å! –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
    </div>
  </section>

  <!-- How it works -->
  <section class="py-16 px-6 bg-gray-100 text-center">
    <h2 class="text-2xl font-bold mb-8">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
    <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
      <div class="bg-white p-6 rounded-lg shadow">
        <div class="text-4xl mb-4">üìù</div>
        <h3 class="font-semibold mb-2">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h3>
        <p>–¶–µ–Ω–∞, —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, –ª–æ–≥–∏—Å—Ç–∏–∫–∞, –∫–æ–º–∏—Å—Å–∏—è ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <div class="text-4xl mb-4">üìä</div>
        <h3 class="font-semibold mb-2">–ü–æ–ª—É—á–∏—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É</h3>
        <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏, –º–∞—Ä–∂–∏ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ —É–±—ã—Ç–æ—á–Ω—ã—Ö SKU.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow">
        <div class="text-4xl mb-4">üöÄ</div>
        <h3 class="font-semibold mb-2">–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–¥–∞–∂–∏</h3>
        <p>–û—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ç–æ, —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏–±—ã–ª—å, –∞ —É–±—ã—Ç–æ—á–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —É–±–∏—Ä–∞–π—Ç–µ.</p>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-16 px-6 text-center bg-white">
    <h2 class="text-2xl font-bold mb-4">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–≤—ã–º–∏</h2>
    <p class="mb-6">–û—Å—Ç–∞–≤—å—Ç–µ email ‚Äî –æ—Ç–ø—Ä–∞–≤–∏–º —Å—Å—ã–ª–∫—É –Ω–∞ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏—é –∏ –∫–æ—Ä–æ—Ç–∫—É—é –∞–Ω–∫–µ—Ç—É.</p>
    <form id="subscribeFormBottom" class="flex flex-col md:flex-row gap-2 w-full max-w-xl mx-auto">
      <input type="email" id="emailBottom" placeholder="–í–∞—à email" class="border p-3 rounded w-full flex-1" required />
      <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 transition">
        –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø
      </button>
    </form>
    <div id="alertSuccessBottom" class="hidden mt-4 text-green-700 bg-green-100 border border-green-200 rounded p-3 w-full max-w-xl mx-auto">
      –°–ø–∞—Å–∏–±–æ! –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –ø–æ email.
    </div>
    <div id="alertErrorBottom" class="hidden mt-4 text-red-700 bg-red-100 border border-red-200 rounded p-3 w-full max-w-xl mx-auto">
      –£–ø—Å! –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
    </div>
  </section>

  <footer class="py-6 text-center text-gray-500 text-sm">
    ¬© 2025 SKU Profit Calculator
  </footer>

  <script>
    // –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ô URL –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Apps Script (–æ–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ /exec)
    const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxfp-ojWAazV711DHuDHcnDELPf88_8ZHiMtvXX9l0npRCp0Sq2MkSOtYUG1vexvKY68A/exec";

    async function submitEmail(email, alertSuccess, alertError) {
      alertSuccess.classList.add('hidden');
      alertError.classList.add('hidden');
      try {
        const res = await fetch(APPS_SCRIPT_URL, {
          method: "POST",
          body: JSON.stringify({ email })
        });
          const ct = res.headers.get('content-type') || '';
    const status = res.status;
    let raw = await res.text();  // —á–∏—Ç–∞–µ–º –∫–∞–∫ —Ç–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞
    console.log("STATUS:", status);
    console.log("CONTENT-TYPE:", ct);
    console.log("RAW BODY:", raw);

    let data;
    try {
      data = ct.includes('application/json')
        ? JSON.parse(raw)
        : { ok: raw.trim().toUpperCase() === 'OK' };
    } catch {
      data = {};
    }
    console.log("PARSED:", data);


        // const data = await res.json().catch(()=>({}));
        // console.log("–û—Ç–≤–µ—Ç —Å–∫—Ä–∏–ø—Ç–∞:", data);
        if (res.ok) {
          alertSuccess.classList.remove('hidden');
        } else {
          alertError.classList.remove('hidden');
        }
      } catch (e) {
        alertError.classList.remove('hidden');
      }
    }

    // –í–µ—Ä—Ö–Ω—è—è —Ñ–æ—Ä–º–∞
    const formTop = document.getElementById('subscribeForm');
    const emailTop = document.getElementById('email');
    const successTop = document.getElementById('alertSuccess');
    const errorTop = document.getElementById('alertError');
    formTop.addEventListener('submit', (e) => {
      e.preventDefault();
      submitEmail(emailTop.value, successTop, errorTop);
      formTop.reset();
    });

    // –ù–∏–∂–Ω—è—è —Ñ–æ—Ä–º–∞
    const formBottom = document.getElementById('subscribeFormBottom');
    const emailBottom = document.getElementById('emailBottom');
    const successBottom = document.getElementById('alertSuccessBottom');
    const errorBottom = document.getElementById('alertErrorBottom');
    formBottom.addEventListener('submit', (e) => {
      e.preventDefault();
      submitEmail(emailBottom.value, successBottom, errorBottom);
      formBottom.reset();
    });
  </script>
</body>
</html>
